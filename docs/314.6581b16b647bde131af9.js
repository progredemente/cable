"use strict";(self.webpackChunkcable=self.webpackChunkcable||[]).push([[314],{428:function(t,e,n){n.r(e);var a=n(751),r=n.n(a),i=n(745),o=n(379),c=n.n(o),s=n(795),l=n.n(s),d=n(569),f=n.n(d),u=n(565),h=n.n(u),m=n(216),g=n.n(m),p=n(589),w=n.n(p),y=n(424),v={};v.styleTagTransform=w(),v.setAttributes=h(),v.insert=f().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=g(),c()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;var b=n(48),A=n(144),B=n(326),x=n(340),F=n(963),E=n(120),k=n(942),C=n(343),M=n(87),R={};R.styleTagTransform=w(),R.setAttributes=h(),R.insert=f().bind(null,"head"),R.domAPI=l(),R.insertStyleElement=g(),c()(M.Z,R),M.Z&&M.Z.locals&&M.Z.locals;var I=function(){var t,e,n,a,r,i,o,c,s,l,d,f,u={},h=[],m=[],g=5003,p=0,w=!1,y=0,v=0,b=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],A=[],B=u.LZWEncoder=function(r,i,o,c){t=r,e=i,n=o,a=Math.max(2,c)},x=function(t,e){A[f++]=t,f>=254&&C(e)},F=function(t){E(g),p=l+2,w=!0,I(l,t)},E=function(t){for(var e=0;e<t;++e)h[e]=-1},k=u.compress=function(t,e){var n,a,r,i,u,y;for(w=!1,c=M(o=s=t),d=1+(l=1<<t-1),p=l+2,f=0,i=R(),y=0,n=g;n<65536;n*=2)++y;y=8-y,E(g),I(l,e);t:for(;-1!=(r=R());)if(n=(r<<12)+i,h[a=r<<y^i]!=n){if(h[a]>=0){u=5003-a,0===a&&(u=1);do{if((a-=u)<0&&(a+=5003),h[a]==n){i=m[a];continue t}}while(h[a]>=0)}I(i,e),i=r,p<4096?(m[a]=p++,h[a]=n):F(e)}else i=m[a];I(i,e),I(d,e)},C=(u.encode=function(n){n.writeByte(a),r=t*e,i=0,k(a+1,n),n.writeByte(0)},function(t){f>0&&(t.writeByte(f),t.writeBytes(A,0,f),f=0)}),M=function(t){return(1<<t)-1},R=function(){return 0===r?-1:(--r,255&n[i++])},I=function(t,e){for(y&=b[v],v>0?y|=t<<v:y=t,v+=o;v>=8;)x(255&y,e),y>>=8,v-=8;if((p>c||w)&&(w?(c=M(o=s),w=!1):(++o,c=12==o?4096:M(o))),t==d){for(;v>0;)x(255&y,e),y>>=8,v-=8;C(e)}};return B.apply(this,arguments),u},Z=function(){var t,e,n,a,r,i={},o=256,c=1024,s=1<<18,l=[],d=[],f=[],u=[],h=i.NeuQuant=function(t,i,c){var s,l;for(e=t,n=i,a=c,r=new Array(o),s=0;s<o;s++)r[s]=new Array(4),(l=r[s])[0]=l[1]=l[2]=(s<<12)/o,f[s]=256,d[s]=0},m=(i.map=function(t,e,n){var a,i,c,s,d,f,u;for(d=1e3,u=-1,i=(a=l[e])-1;a<o||i>=0;)a<o&&((c=(f=r[a])[1]-e)>=d?a=o:(a++,c<0&&(c=-c),(s=f[0]-t)<0&&(s=-s),(c+=s)<d&&((s=f[2]-n)<0&&(s=-s),(c+=s)<d&&(d=c,u=f[3])))),i>=0&&((c=e-(f=r[i])[1])>=d?i=-1:(i--,c<0&&(c=-c),(s=f[0]-t)<0&&(s=-s),(c+=s)<d&&((s=f[2]-n)<0&&(s=-s),(c+=s)<d&&(d=c,u=f[3]))));return u},i.process=function(){return function(){var r,i,o,s,l,d,f,h,m,y,v,b,A,B;for(n<1509&&(a=1),t=30+(a-1)/3,b=e,A=0,B=n,y=(v=n/(3*a))/100|0,h=c,(f=(d=2048)>>6)<=1&&(f=0),r=0;r<f;r++)u[r]=h*(256*(f*f-r*r)/(f*f));for(m=n<1509?3:n%499!=0?1497:n%491!=0?1473:n%487!=0?1461:1509,r=0;r<v;)if(o=(255&b[A+0])<<4,s=(255&b[A+1])<<4,l=(255&b[A+2])<<4,i=w(o,s,l),p(h,i,o,s,l),0!==f&&g(f,i,o,s,l),(A+=m)>=B&&(A-=n),0===y&&(y=1),++r%y==0)for(h-=h/t,(f=(d-=d/30)>>6)<=1&&(f=0),i=0;i<f;i++)u[i]=h*(256*(f*f-i*i)/(f*f))}(),m(),function(){var t,e,n,a,i,c,s,d;for(s=0,d=0,t=0;t<o;t++){for(n=t,a=(i=r[t])[1],e=t+1;e<o;e++)(c=r[e])[1]<a&&(n=e,a=c[1]);if(c=r[n],t!=n&&(e=c[0],c[0]=i[0],i[0]=e,e=c[1],c[1]=i[1],i[1]=e,e=c[2],c[2]=i[2],i[2]=e,e=c[3],c[3]=i[3],i[3]=e),a!=s){for(l[s]=d+t>>1,e=s+1;e<a;e++)l[e]=t;s=a,d=t}}for(l[s]=d+255>>1,e=s+1;e<256;e++)l[e]=255}(),function(){for(var t=[],e=new Array(o),n=0;n<o;n++)e[r[n][3]]=n;for(var a=0,i=0;i<o;i++){var c=e[i];t[a++]=r[c][0],t[a++]=r[c][1],t[a++]=r[c][2]}return t}()},function(){var t;for(t=0;t<o;t++)r[t][0]>>=4,r[t][1]>>=4,r[t][2]>>=4,r[t][3]=t}),g=function(t,e,n,a,i){var c,l,d,f,h,m,g;for((d=e-t)<-1&&(d=-1),(f=e+t)>o&&(f=o),c=e+1,l=e-1,m=1;c<f||l>d;){if(h=u[m++],c<f){g=r[c++];try{g[0]-=h*(g[0]-n)/s,g[1]-=h*(g[1]-a)/s,g[2]-=h*(g[2]-i)/s}catch(t){}}if(l>d){g=r[l--];try{g[0]-=h*(g[0]-n)/s,g[1]-=h*(g[1]-a)/s,g[2]-=h*(g[2]-i)/s}catch(t){}}}},p=function(t,e,n,a,i){var o=r[e];o[0]-=t*(o[0]-n)/c,o[1]-=t*(o[1]-a)/c,o[2]-=t*(o[2]-i)/c},w=function(t,e,n){var a,i,c,s,l,u,h,m,g,p;for(g=m=~(1<<31),h=u=-1,a=0;a<o;a++)(i=(p=r[a])[0]-t)<0&&(i=-i),(c=p[1]-e)<0&&(c=-c),i+=c,(c=p[2]-n)<0&&(c=-c),(i+=c)<m&&(m=i,u=a),(s=i-(d[a]>>12))<g&&(g=s,h=a),l=f[a]>>10,f[a]-=l,d[a]+=l<<10;return f[u]+=64,d[u]-=65536,h};return h.apply(this,arguments),i},S=function(){for(var t=0,e={};t<256;t++)e[t]=String.fromCharCode(t);function n(){this.bin=[]}n.prototype.getData=function(){for(var t="",n=this.bin.length,a=0;a<n;a++)t+=e[this.bin[a]];return t},n.prototype.writeByte=function(t){this.bin.push(t)},n.prototype.writeUTFBytes=function(t){for(var e=t.length,n=0;n<e;n++)this.writeByte(t.charCodeAt(n))},n.prototype.writeBytes=function(t,e,n){for(var a=n||t.length,r=e||0;r<a;r++)this.writeByte(t[r])};var a,r,i,o,c,s,l,d,f,u={},h=null,m=-1,g=0,p=!1,w=[],y=7,v=-1,b=!1,A=!0,B=!1,x=10,F="Generated by jsgif (https://github.com/antimatter15/jsgif/)",E=(u.setDelay=function(t){g=Math.round(t/10)},u.setDispose=function(t){t>=0&&(v=t)},u.setRepeat=function(t){t>=0&&(m=t)},u.setTransparent=function(t){h=t},u.setComment=function(t){F=t},u.addFrame=function(t,e){if(null===t||!p||null===o)throw new Error("Please call start method before calling addFrame");var n=!0;try{e?t instanceof ImageData?(c=t.data,B&&a==t.width&&r==t.height||k(t.width,t.height)):t instanceof Uint8ClampedArray?t.length==a*r*4?c=t:(console.log("Please set the correct size: ImageData length mismatch"),n=!1):(console.log("Please provide correct input"),n=!1):(c=t.getImageData(0,0,t.canvas.width,t.canvas.height).data,B||k(t.canvas.width,t.canvas.height)),R(),C(),A&&(P(),j(),m>=0&&T()),S(),""!==F&&U(),N(),A||j(),z(),A=!1}catch(t){n=!1}return n},u.download=function(t){if(null===o||0==b)console.log("Please call start method and add frames and call finish method before calling download");else{t=void 0!==t?t.endsWith(".gif")?t:t+".gif":"download.gif";var e=document.createElement("a");e.download=t,e.href=URL.createObjectURL(new Blob([new Uint8Array(o.bin)],{type:"image/gif"})),e.click()}},u.finish=function(){if(!p)return!1;var t=!0;p=!1;try{o.writeByte(59),b=!0}catch(e){t=!1}return t},function(){i=0,c=null,s=null,l=null,f=null,b=!1,A=!0}),k=(u.setFrameRate=function(t){15!=t&&(g=Math.round(100/t))},u.setQuality=function(t){t<1&&(t=1),x=t},u.setSize=function(t,e){p&&!A||((a=t)<1&&(a=320),(r=e)<1&&(r=240),B=!0)}),C=(u.start=function(){E();var t=!0;b=!1,o=new n;try{o.writeUTFBytes("GIF89a")}catch(e){t=!1}return p=t},u.cont=function(){return E(),b=!1,o=new n,p=!0},function(){var t=s.length,e=t/3;l=[];var n=new Z(s,t,x);f=n.process();for(var a=0,r=0;r<e;r++){var o=n.map(255&s[a++],255&s[a++],255&s[a++]);w[o]=!0,l[r]=o}s=null,d=8,y=7,null!==h&&(i=M(h))}),M=function(t){if(null===f)return-1;for(var e=(16711680&t)>>16,n=(65280&t)>>8,a=255&t,r=0,i=16777216,o=f.length,c=0;c<o;){var s=e-(255&f[c++]),l=n-(255&f[c++]),d=a-(255&f[c]),u=s*s+l*l+d*d,h=c/3;w[h]&&u<i&&(i=u,r=h),c++}return r},R=function(){var t=a,e=r;s=[];for(var n=c,i=0,o=0;o<e;o++)for(var l=0;l<t;l++){var d=o*t*4+4*l;s[i++]=n[d],s[i++]=n[d+1],s[i++]=n[d+2]}},S=function(){var t,e;o.writeByte(33),o.writeByte(249),o.writeByte(4),null===h?(t=0,e=0):(t=1,e=2),v>=0&&(e=7&v),e<<=2,o.writeByte(0|e|t),D(g),o.writeByte(i),o.writeByte(0)},U=function(){o.writeByte(33),o.writeByte(254),o.writeByte(F.length),o.writeUTFBytes(F),o.writeByte(0)},N=function(){o.writeByte(44),D(0),D(0),D(a),D(r),A?o.writeByte(0):o.writeByte(128|y)},P=function(){D(a),D(r),o.writeByte(240|y),o.writeByte(0),o.writeByte(0)},T=function(){o.writeByte(33),o.writeByte(255),o.writeByte(11),o.writeUTFBytes("NETSCAPE2.0"),o.writeByte(3),o.writeByte(1),D(m),o.writeByte(0)},j=function(){o.writeBytes(f);for(var t=768-f.length,e=0;e<t;e++)o.writeByte(0)},D=function(t){o.writeByte(255&t),o.writeByte(t>>8&255)},z=function(){new I(a,r,l,d).encode(o)};return u.stream=function(){return o},u.setProperties=function(t,e){p=t,A=e},u},U=(n(63),n(671));var N=function(t){(0,x.Z)(o,t);var e,n,i=(e=o,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,a=(0,E.Z)(e);if(n){var r=(0,E.Z)(this).constructor;t=Reflect.construct(a,arguments,r)}else t=a.apply(this,arguments);return(0,F.Z)(this,t)});function o(t){var e;return(0,b.Z)(this,o),e=i.call(this,t),(0,k.Z)((0,B.Z)(e),"hideModal",(function(){var t=new Image;t.src=e.cropperRef.current.cropper.getCroppedCanvas().toDataURL(),t.onload=function(){e.setState({crop:t,showModal:!1},e.create)}})),e.state={loaded:!1,scaleFactor:.25,gif:null,face:null,crop:null,showModal:!1},e.side=1500,e.img=null,e.cropperRef=(0,a.createRef)(),e}return(0,A.Z)(o,[{key:"componentDidMount",value:function(){var t=this;this.img=new Image,this.img.src="./cable.png",this.img.onload=function(){t.setState({loaded:!0}),t.create()}}},{key:"create",value:function(){var t=new S;t.setRepeat(0),t.setDelay(100),t.start();var e=document.createElement("canvas");e.width=this.side*this.state.scaleFactor,e.height=this.side*this.state.scaleFactor;var n=e.getContext("2d");this.clear(n,this.state.scaleFactor),this.draw(0,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(1,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(2,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(3,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(0,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(1,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(4,n,this.state.scaleFactor),t.addFrame(n),this.clear(n,this.state.scaleFactor),this.draw(5,n,this.state.scaleFactor),t.addFrame(n),t.finish();var a=t.stream().getData();this.setState({gif:"data:image/gif;base64,".concat(window.btoa(a))})}},{key:"draw",value:function(t,e,n){t=(t||0)%6,this.state.crop&&(2===t||3===t?(e.translate(1102*n,339*n),e.rotate(15*Math.PI/180),e.drawImage(this.state.crop,0,0,this.state.crop.width,this.state.crop.height,-299*n,-299*n,598*n,598*n),e.rotate(-15*Math.PI/180),e.translate(-1102*n,-339*n)):4===t||5===t?(e.translate(955*n,336*n),e.rotate(-15*Math.PI/180),e.drawImage(this.state.crop,0,0,this.state.crop.width,this.state.crop.height,-299*n,-299*n,598*n,598*n),e.rotate(15*Math.PI/180),e.translate(-955*n,-336*n)):e.drawImage(this.state.crop,0,0,this.state.crop.width,this.state.crop.height,732*n,26*n,598*n,598*n)),e.drawImage(this.img,this.side*t,0,this.side,this.side,0,0,this.side*n,this.side*n),this.drawUrl(e,n)}},{key:"drawUrl",value:function(t,e){t.font="".concat(80*e,"px ComicTypo"),t.textAlign="center",t.fillStyle="rgba(0, 0, 0, .5)",t.fillText("recoge cable en progredemente.com/cable",this.side*e/2,this.side*e-40*e)}},{key:"clear",value:function(t,e){t.fillStyle="white",t.fillRect(0,0,this.side*e,this.side*e)}},{key:"download",value:function(){var t=document.createElement("a");t.download="cable.gif",t.href=this.state.gif,t.click()}},{key:"upload",value:function(){var t=this,e=document.createElement("input");e.type="file",e.accept="image/png, image/jpeg",e.onchange=function(){var n=new FileReader;n.addEventListener("load",(function(e){var n=new Image;n.src=e.target.result,n.onload=function(){t.setState({face:n,showModal:!0})}})),n.readAsDataURL(e.files[0])},e.click()}},{key:"render",value:function(){var t=this;return r().createElement(r().Fragment,null,!this.state.loaded&&r().createElement("div",{className:"loading"},r().createElement("img",{src:"".concat("/resources","/cable.png"),alt:"Cargando"}),"Cargando"),this.state.loaded&&this.state.gif&&r().createElement("div",{className:"app"},r().createElement("div",{className:"title"},r().createElement("img",{src:"./cable.png",alt:"Recoge cable"}),r().createElement("div",null,"por ",r().createElement("a",{href:"/",target:"_blank"},"progredemente"))),r().createElement("img",{src:this.state.gif,alt:"gif",className:"gif"}),r().createElement("div",{className:"buttons"},r().createElement("div",{className:"button",onClick:function(){t.upload()}},"Elegir cara ",r().createElement(U.Icon,{icon:"F"})),this.state.face&&r().createElement(r().Fragment,null,r().createElement("div",{className:"button",onClick:function(){t.setState({showModal:!0})}},"Editar cara ",r().createElement(U.Icon,{icon:"E"})),r().createElement("div",{className:"button download",onClick:function(){t.download()}},"Descargar ",r().createElement(U.Icon,{icon:"D"})))),this.state.face&&r().createElement("div",{className:"modal".concat(this.state.showModal?"":" hidden"),onClick:this.hideModal,onMouseUp:function(){return!1}},r().createElement("div",{className:"modal-container",onClick:function(t){t.stopPropagation()}},r().createElement("div",{className:"modal-title"},"Recortar imagen"),r().createElement(C.Cropper,{src:this.state.face.src,aspectRatio:1,style:{height:this.state.face.height*Math.min(this.state.face.width,window.innerWidth-40)/this.state.face.width,width:Math.min(this.state.face.width,window.innerWidth-40)},zoomable:!1,ref:this.cropperRef}),r().createElement("div",{className:"button",onClick:this.hideModal},"Aceptar")))))}}]),o}(a.Component),P=N;i.createRoot(document.getElementById("root")).render(r().createElement(r().StrictMode,null,r().createElement(P,null)))},87:function(t,e,n){var a=n(81),r=n.n(a),i=n(645),o=n.n(i)()(r());o.push([t.id,".app {\n    height: 100%;\n    color: var(--primary-color);\n}\n\n.gif {\n    max-width: 100%;\n    display: block;\n    margin: 0 auto;\n}\n\n.buttons {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    max-width: 500px;\n    margin: 10px auto;\n}\n\n.button {\n    background-color: var(--secondary-color);\n    border: 0;\n    color: black;\n    margin: 10px;\n    padding: 10px 20px;\n    text-align: center;\n    border-radius: 10px;\n    cursor: pointer;\n}\n\n.download {\n    background-color: var(--primary-color);\n    color: white;\n}\n\n.buttons > .button {\n    flex: 40%;\n}\n\n\n.buttons > .button.download {\n    flex: 100%;\n}\n\n.loading {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n}\n\n.loading > img {\n    width: 200px;\n}\n\n.title {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 0 auto;\n    padding: 10px 0;\n    max-width: 350px;\n    color: var(--secondary-color);\n}\n\n.title > img {\n    height: 240px;\n    width: 325px;\n    object-position: -9001px -1px;\n    object-fit: none;\n    margin-bottom: 10px;\n}\n\n.title > div {\n    margin-left: auto;\n    font-size: .75em;\n}\n\n.modal {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    z-index: 2;\n    background-color: rgba(80, 30, 11, 0.5);\n    padding: 10px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.modal.hidden {\n    display: none;\n}\n\n.modal-container {\n    background-color: white;\n    border-radius: 10px;\n    padding: 10px;\n    display: inline-flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n}\n\n.modal-title {\n    font-size: 1.5em;\n    padding: 10px\n}",""]),e.Z=o},424:function(t,e,n){var a=n(81),r=n.n(a),i=n(645),o=n.n(i)()(r());o.push([t.id,"* {\n    font-family: ComicTypo;\n    box-sizing: border-box;\n    --primary-color: #f05720;\n    --secondary-color: #f0b19b;\n}\n\nhtml, body, #root {\n  height: 100%;\n}\n\nbody {\n    margin: 0;\n    font-size: 1.5em;\n}\n\na {\n    text-decoration: none;\n    color: var(--primary-color);\n}\n",""]),e.Z=o},738:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC"}}]);